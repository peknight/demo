!function(){function b(a,b){return parseInt(getComputedStyle(a,null).getPropertyValue(b))}function c(a,b){a.classList.add(b)}function d(a,b){a.classList.remove(b)}function e(a,b){(!isFinite(a)||0>a)&&(a=0);var c=b.alwaysShowHours?[0]:[];return Math.floor(a/3600)%24&&c.push(Math.floor(a/3600)%24),c.push(Math.floor(a/60)%60),c.push(Math.floor(a%60)),c=c.join(":"),1==b.timeFormatType&&(c=c.replace(/(:|^)([0-9])(?=:|$)/g,"$10$2")),c}function f(){return document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen}function g(a){var b,c;switch(a=a.toLowerCase().split("?")[0],b=a.substring(a.lastIndexOf(".")+1),c=/mp4|m4v|ogg|ogv|m3u8|webm|webmv|wmv|mpeg|mov/gi.test(b)?"video/":"audio/",b){case"mp4":case"m4v":case"m4a":return c+"mp4";case"webm":case"webma":case"webmv":return c+"webm";case"ogg":case"oga":case"ogv":return c+"ogg";case"m3u8":return"application/x-mpegurl";case"ts":return c+"mp2t";default:return c+b}}function h(a,b){return a&&!b?g(a):b&&~b.indexOf(";")?b.substr(0,b.indexOf(";")):b}function i(b,c,d){var f,g,i,e=[];if(c.type)if("string"==typeof c.type)e.push({type:c.type,url:d});else for(f=0;f<c.type.length;f++)e.push({type:c.type[f],url:d});else if(null!==d)e.push({type:h(d,b.getAttribute("type")),url:d});else for(f=0;f<b.children.length;f++)g=b.children[f],1==g.nodeType&&"source"==g.tagName.toLowerCase()&&(d=g.getAttribute("src"),e.push({type:h(d,g.getAttribute("type")),url:d}));if(a.features.isBustedAndroid&&(b.canPlayType=function(a){return/video\/(mp4|m4v)/i.test(a)?"maybe":""}),a.features.isChromium&&(b.canPlayType=function(a){return/video\/(webm|ogv|ogg)/i.test(a)?"maybe":""}),a.features.supportsCanPlayType)for(f=0;f<e.length;f++)if("video/m3u8"==e[f].type||""!==b.canPlayType(e[f].type).replace(/no/,"")||""!==b.canPlayType(e[f].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==b.canPlayType(e[f].type.replace(/m4a/,"mp4")).replace(/no/,"")){i=!0;break}return i}var j,a={};a.config={type:"",mediaTitle:"",nativeControls:!1,autoplay:!1,preload:"none",videoWidth:"100%",videoHeight:"auto",aspectRation:16/9,audioWidth:"100%",audioHeight:44,autoLoop:!1,showPosterAfterEnd:!1,timeFormatType:1,alwaysShowHours:!1,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,enableFullscreen:!0,pauseOtherPlayers:!0,enableVisibilityState:!0,duration:0,success:null,error:null,beforePlay:null,showPlaybackRate:!0},function(a){var b=window.navigator.userAgent.toLowerCase(),c=document.createElement("video");a.isBustedAndroid=/android 2\.[12]/i.test(b),a.isChromium=/chromium/i.test(b),a.hasTouch="ontouchstart"in window,a.supportsCanPlayType="undefined"!=typeof c.canPlayType,a.isPlaysInline=matchMedia("(-webkit-video-playable-inline)").matches,a.iPhoneVersion=b.match(/iPhone OS (\d+)_?/i),a.isVendorBigPlay=function(){return window.MSStream?!1:!1}(),a.isVendorControls=/baidu/i.test(b)&&!/baiduboxapp/i.test(b),a.nativeFullscreenPrefix=function(){return c.requestFullScreen?"":c.webkitRequestFullScreen?"webkit":c.mozRequestFullScreen?"moz":c.msRequestFullScreen?"ms":"-"}(),"undefined"!=typeof document.visibilityState?(a.vChange="visibilitychange",a.vState="visibilityState"):"undefined"!=typeof document.webkitVisibilityState?(a.vChange="webkitvisibilitychange",a.vState="webkitVisibilityState"):(a.vChange="",a.vState=""),a.hasOldNativeFullScreen="-"==a.nativeFullscreenPrefix&&c.webkitEnterFullscreen,a.hasOldNativeFullScreen&&/mac os x 10_5/i.test(b)&&(a.nativeFullscreenPrefix="-",a.hasOldNativeFullScreen=!1)}(a.features={}),j=0,a.players={},a.MediaPlayer=function(b,c){var e,f,g,k,d=this;if(!b.isInstantiated&&(b.isInstantiated=!0,d.media=b,f=d.media.tagName.toLowerCase(),/audio|video/.test(f))){d.isVideo="video"===f,d.options={};for(e in a.config)d.options[e]=a.config[e];try{for(e in c)d.options[e]=c[e];g=JSON.parse(d.media.getAttribute("data-config"));for(e in g)d.options[e]=g[e]}catch(h){}"none"==d.options.preload&&a.features.iPhoneVersion&&a.features.iPhoneVersion[1]>=11&&(d.options.preload="auto"),d.isVideo||(d.options.alwaysShowControls=!0),d.options.nativeControls||a.features.isVendorControls?(d.media.setAttribute("controls","controls"),a.features.isPlaysInline&&d.media.setAttribute("playsinline",""),d.media.style.position="relative"):(k=d.media.getAttribute("src"),k=""===k?null:k,i(d.media,d.options,k)?(d.id="zym_"+j++,a.players[d.id]=d,d.init()):alert("不支持此"+(d.isVideo?"视":"音")+"频"))}},a.MediaPlayer.prototype={isControlsVisible:!0,isFullScreen:!1,setPlayerSize:function(a,c){var e,g,d=this;f()||d.isFullScreen||((void 0==a||"100%"==a)&&(d.width=b(d.container,"width")),(void 0==c||"auto"==c)&&(e=d.media.videoWidth,g=d.media.videoHeight,e&&g&&Math.abs(d.options.aspectRation-e/g)<.1&&(d.options.aspectRation=e/g),d.height=parseInt(d.width/d.options.aspectRation)),d.media.style.width=d.width+"px",d.media.style.height=d.container.style.height=d.height+"px")},showControls:function(){var a=this;a.isControlsVisible||(a.controls.style.bottom=0,a.options.mediaTitle&&(a.title.style.top=0),a.isControlsVisible=!0)},hideControls:function(){var a=this;a.isControlsVisible&&!a.options.alwaysShowControls&&(a.controls.style.bottom="-45px",a.playbackRateOpts.style.display="none",a.options.mediaTitle&&(a.title.style.top="-35px"),a.isControlsVisible=!1)},setControlsTimer:function(a){var b=this;b.options.alwaysShowControls||(clearTimeout(b.controlsTimer),b.controlsTimer=setTimeout(function(){b.hideControls()},a))},updateTimeline:function(a){var g,c=this,d=void 0!==a?a.target:c.media,e=null,f=b(c.slider,"width");d.buffered&&d.buffered.length>0&&d.buffered.end&&d.duration?e=d.buffered.end(d.buffered.length-1)/d.duration:void 0!==d.bytesTotal&&d.bytesTotal>0&&void 0!==d.bufferedBytes?e=d.bufferedBytes/d.bytesTotal:a&&a.lengthComputable&&0!==a.total&&(e=a.loaded/a.total),null!==e&&(e=Math.min(1,Math.max(0,e)),c.loaded.style.width=f*e+"px",c.media.paused&&setTimeout(function(){c.loaded.style.width=f*e+"px",c.updateTimeline()},300)),void 0!==c.media.currentTime&&c.media.duration&&(g=Math.round(f*c.media.currentTime/c.media.duration),c.current.style.width=g+"px",c.handle.style.left=g-Math.round(b(c.handle,"width")/2)+"px")},updateTime:function(){var a=this;a.currentTime.innerHTML=e(a.media.currentTime,a.options),(a.options.duration>1||a.media.duration>1)&&(a.durationDuration.innerHTML=e(a.options.duration>1?a.options.duration:a.media.duration,a.options))},enterFullScreen:function(){var b=this;if("-"!=a.features.nativeFullscreenPrefix)b.container[a.features.nativeFullscreenPrefix+"RequestFullScreen"]();else if(a.features.hasOldNativeFullScreen)return b.media.webkitEnterFullscreen(),void 0;c(document.documentElement,"zy_fullscreen"),b.media.style.width=b.container.style.width="100%",b.media.style.height=b.container.style.height="100%",b.container.style.zIndex="1001",c(b.fullscreenBtn,"zy_unfullscreen"),b.isFullScreen=!0},exitFullScreen:function(){var b=this;(f()||b.isFullScreen)&&("-"!=a.features.nativeFullscreenPrefix?document[a.features.nativeFullscreenPrefix+"CancelFullScreen"]():a.features.hasOldNativeFullScreen&&document.webkitExitFullscreen()),d(document.documentElement,"zy_fullscreen"),b.media.style.width=b.width+"px",b.container.style.width="",b.media.style.height=b.container.style.height=b.height+"px",b.container.style.zIndex="",d(b.fullscreenBtn,"zy_unfullscreen"),b.isFullScreen=!1},buildContainer:function(){var c=this;c.container=c.media.parentNode,c.container.style.overflow="hidden",c.container.style.height=(c.isVideo?b(c.container,"width")/c.options.aspectRation:c.options.audioHeight)+"px",c.container.innerHTML='<div class="zy_wrap"></div><div class="zy_controls"></div>'+(c.options.mediaTitle?'<div class="zy_title">'+c.options.mediaTitle+"</div>":""),c.title=c.container.querySelector(".zy_title"),c.media.setAttribute("preload",c.options.preload),a.features.isPlaysInline&&c.media.setAttribute("playsinline",""),c.container.querySelector(".zy_wrap").appendChild(c.media),c.controls=c.container.querySelector(".zy_controls"),c.isVideo&&(c.width=c.options.videoWidth,c.height=c.options.videoHeight,"100%"==c.width&&"auto"==c.height&&(c.enableAutoSize=!0),c.setPlayerSize(c.width,c.height))},buildPlaypause:function(){function c(c){(a.media.isUserClick||a.options.autoplay)&&(b.className="play"===c?"zy_playpause_btn_pause":"zy_playpause_btn_play")}var a=this,b=document.createElement("div");b.className="zy_playpause_btn_play",a.controls.appendChild(b),b.addEventListener("click",function(){if(a.media.isUserClick=!0,a.media.paused){if("function"==typeof a.options.beforePlay&&a.options.beforePlay(a.media))return;if(a.media.isError){var b=a.media.currentTime;a.media.load(),a.media.isError=!1,a.media.currentTime=b}a.media.play(),a.media.paused||a.setControlsTimer(5e3)}else a.media.pause()}),a.media.addEventListener("play",function(){c("play")}),a.media.addEventListener("playing",function(){c("play")}),a.media.addEventListener("pause",function(){c("pse")}),a.media.addEventListener("paused",function(){c("pse")})},buildTimeline:function(){var f,g,h,i,j,c=this,d=document.createElement("div");d.className="zy_timeline",d.innerHTML='<div class="zy_timeline_slider"><div class="zy_timeline_buffering" style="display:none"></div><div class="zy_timeline_loaded"></div><div class="zy_timeline_current"></div><div class="zy_timeline_handle"></div></div>',c.controls.appendChild(d),c.slider=d.children[0],c.buffering=c.slider.children[0],c.loaded=c.slider.children[1],c.current=c.slider.children[2],c.handle=c.slider.children[3],f=!1,g=c.slider.getBoundingClientRect().left,h=b(c.slider,"width"),i=b(c.handle,"width")/2,j=function(a){var b,d;a.preventDefault(),a.stopPropagation(),b=0,d=a.changedTouches?a.changedTouches[0].pageX:a.pageX,c.media.duration&&(g>d?d=g:d>h+g&&(d=h+g),c.handle.style.left=d-i-g+"px",b=(d-g)/h*c.media.duration,c.currentTime.innerHTML=e(c.media.currentTime,c.options),f&&b!==c.media.currentTime&&(c.media.currentTime=b)),clearTimeout(c.controlsTimer)},a.features.hasTouch?d.addEventListener("touchstart",function(a){f=!0,c.media.pause(),j(a),g=c.slider.getBoundingClientRect().left,h=b(c.slider,"width"),d.addEventListener("touchmove",j),d.addEventListener("touchend",function(a){j(a),f=!1,c.media.play(),c.media.isUserClick=!0,c.setControlsTimer(5e3),d.removeEventListener("touchmove",j)})}):d.addEventListener("mousedown",function(a){f=!0,c.media.pause(),j(a),g=c.slider.getBoundingClientRect().left,h=b(c.slider,"width"),d.addEventListener("mousemove",j),d.addEventListener("mouseup",function(a){j(a),f=!1,c.media.play(),c.media.isUserClick=!0,c.slider.addEventListener("mousemove",j)})}),c.media.addEventListener("timeupdate",function(a){c.updateTimeline(a)})},buildCurrentTime:function(){var a=this,b=document.createElement("div");b.className="zy_currenttime",b.innerHTML=e(0,a.options),a.controls.appendChild(b),a.currentTime=b,a.media.addEventListener("timeupdate",function(){a.updateTime()})},buildTotalTime:function(){var a=this,b=document.createElement("div");b.className="zy_time",b.innerHTML=e(a.options.duration,a.options),a.controls.appendChild(b),a.durationDuration=b},buildFullscreen:function(){var c,b=this;"-"!=a.features.nativeFullscreenPrefix&&(c=function(){b.isFullScreen&&(f()||b.exitFullScreen())},document.addEventListener(a.features.nativeFullscreenPrefix+"fullscreenchange",c)),b.fullscreenBtn=document.createElement("div"),b.fullscreenBtn.className="zy_fullscreen_btn",b.controls.appendChild(b.fullscreenBtn),b.fullscreenBtn.addEventListener("click",function(){"-"!=a.features.nativeFullscreenPrefix&&f()||b.isFullScreen?b.exitFullScreen():b.enterFullScreen()})},buildPlaybackRate:function(){var a=this;a.playbackRateBtn=document.createElement("div"),a.playbackRateBtn.className="zy_playback_rate",a.playbackRateBtn.innerHTML='<ul class="zy_playback_rate_option"><li>2</li><li>1.5</li><li class="active">1</li><li>0.75</li><li>0.5</li></ul><div class="zy_playback_rate_val">X1</div>',a.controls.appendChild(a.playbackRateBtn),a.playbackRateOpts=a.playbackRateBtn.querySelector(".zy_playback_rate_option"),a.playbackRateVal=document.querySelector(".zy_playback_rate_val"),a.playbackRateBtn.addEventListener("click",function(){a.playbackRateOpts.style.display="block"!==a.playbackRateOpts.style.display?"block":"none"}),a.playbackRateOpts.addEventListener("click",function(b){var c=b.target;"LI"===c.nodeName&&"active"!==c.className&&(a.playbackRateVal.textContent="X"+c.textContent,a.playbackRateOpts.querySelector(".active").className="",c.className="active",a.media.playbackRate=c.textContent)})},buildDec:function(){var d,e,b=this,c=document.createElement("div");c.className="dec_loading",c.style.display="none",b.container.appendChild(c),d=document.createElement("div"),d.className="dec_error",d.style.display="none",d.innerHTML="播放失败，请重试",b.container.appendChild(d),e=document.createElement("div"),a.features.isVendorBigPlay||(e.className="dec_play",b.container.appendChild(e),e.addEventListener("click",function(){if(b.media.isUserClick=!0,"function"!=typeof b.options.beforePlay||!b.options.beforePlay(b.media)){if(b.media.isError){var a=b.media.currentTime;b.media.load(),b.media.isError=!1,b.media.currentTime=a}b.media.play(),b.media.paused||b.setControlsTimer(5e3)}})),b.media.addEventListener("play",function(){b.media.isUserClick&&(e.style.display="none",c.style.display="",b.buffering.style.display="none")}),b.media.addEventListener("playing",function(){e.style.display="none",c.style.display="none",b.buffering.style.display="none",d.style.display="none",clearTimeout(b.media._st)}),b.media.addEventListener("seeking",function(){c.style.display="",e.style.display="none",b.buffering.style.display="",clearTimeout(b.media._st)}),b.media.addEventListener("seeked",function(){c.style.display="none",b.buffering.style.display="none"}),b.media.addEventListener("pause",function(){e.style.display="",c.style.display="none",b.buffering.style.display="none",clearTimeout(b.media._st)}),b.media.addEventListener("waiting",function(){c.style.display="",e.style.display="none",d.style.display="none",b.buffering.style.display="",b.media._st=setTimeout(function(){var a=document.createEvent("Event");a.initEvent("error",!0,!0),b.media.dispatchEvent(a)},3e4)}),b.media.addEventListener("error",function(a){c.style.display="none",e.style.display="",b.buffering.style.display="none",b.media.pause(),d.style.display="",b.media.isError=!0,"function"==typeof b.options.error&&b.options.error(a)})},init:function(){var d,b=this,c=["Container","Playpause","CurrentTime","Timeline","TotalTime"];for(b.options.enableFullscreen&&b.isVideo&&c.push("Fullscreen"),b.isVideo&&c.push("Dec"),b.isVideo&&b.options.showPlaybackRate&&c.push("PlaybackRate"),d=0;d<c.length;d++)try{b["build"+c[d]]()}catch(e){}b.isVideo&&(a.features.hasTouch?b.media.addEventListener("touchend",function(){b.isControlsVisible?b.hideControls():(b.showControls(),b.media.paused||b.setControlsTimer(5e3))}):(b.media.addEventListener("click",function(){b.media.paused?b.media.play():b.media.pause()}),b.container.addEventListener("mouseenter",function(){b.showControls(),b.setControlsTimer(5e3)}),b.container.addEventListener("mousemove",function(){b.showControls(),b.setControlsTimer(5e3)})),b.options.hideVideoControlsOnLoad&&b.hideControls(),b.media.addEventListener("loadedmetadata",function(){b.enableAutoSize&&setTimeout(function(){isNaN(b.media.videoHeight)||b.setPlayerSize()},50)})),b.media.addEventListener("play",function(){var c,d;for(d in a.players)if(c=a.players[d],c.id!=b.id&&b.options.pauseOtherPlayers&&!c.paused&&!c.ended)try{c.media.pause()}catch(e){}}),b.options.enableVisibilityState&&a.features.vChange&&(document.addEventListener(a.features.vChange,function(){"hidden"==document[a.features.vState]&&setTimeout(function(){[].forEach.call(document.querySelectorAll("video, audio"),function(a){a.pause()})},100)}),a.features.vChange=""),window.addEventListener("orientationchange",function(){b.isVideo&&setTimeout(function(){b.setPlayerSize()},500)}),b.media.addEventListener("ended",function(a){b.media.currentTime=0,b.options.autoLoop?b.media.play():(b.isVideo&&setTimeout(function(){b.container.querySelector(".dec_loading").style.display="none",b.container.querySelector(".dec_play").style.display=""},20),b.options.showPosterAfterEnd?b.media.load():b.media.pause()),b.updateTimeline(a)}),b.media.addEventListener("loadedmetadata",function(){b.updateTime()}),b.options.autoplay&&(b.media.isUserClick=!1,b.media.play()),"function"==typeof b.options.success&&b.options.success(b.media)}},window.zymedia=function(b,c){"string"==typeof b?[].forEach.call(document.querySelectorAll(b),function(b){new a.MediaPlayer(b,c)}):new a.MediaPlayer(b,c)}}();